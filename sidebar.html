<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>zoneerder met sidebar</title>

    <link rel="stylesheet" href="http://openlayers.org/en/v3.0.0/css/ol.css" />
    <link rel="stylesheet" href="src/resources/zonemap.css" />
    <style>
        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
        #widgetNode {
            width: 800px;
            height: 600px;
        }
    </style>
    <script src="bower_components/proj4/dist/proj4-src.js" type="text/javascript"></script>
    <!--<script src="//cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.3/proj4-src.js" type="text/javascript"></script>-->
</head>

<body>
    <div id="widgetNode"></div>


    <!-- load Dojo -->
    <script type="text/javascript">
        var dojoConfig = {
            async: true,
            packages: [
                {
                    name: 'src',
                    location: location.pathname.replace(/[^\/]+$/, '') + 'src'
                },
                {
                    name: 'crabpy_dojo',
                    location: location.pathname.replace(/[^\/]+$/, '') + 'bower_components/crabpy_dojo'
                },
                {
                    name: 'mijit',
                    location: location.pathname.replace(/[^\/]+$/, '') + 'bower_components/mijit'
                },
                {
                    name: 'dojo-form-controls',
                    location: location.pathname.replace(/[^\/]+$/, '') + 'bower_components/dojo-form-controls'
                }
            ]
        };
    </script>
    <script src="//ajax.googleapis.com/ajax/libs/dojo/1.10.1/dojo/dojo.js"></script>
    <script src="http://openlayers.org/en/v3.0.0/build/ol-debug.js" type="text/javascript"></script>
    <!--<script src="bower_components/ol3/build/ol-debug.js" type="text/javascript"></script>-->
    <script src="src/openlayers/zoomtogeolocationcontrol.js"></script>
    <script src="src/openlayers/toolbarcontrol.js"></script>
    <script src="src/openlayers/layerswitcher.js"></script>
    <script>
        require([
            "src/ZoneMap",
            "dojo/domReady!"
        ], function (ZoneMap) {

            var zoneMapConfig = {
                buttons: {
                    fullScreen: true,
                    zoomInOut: true,
                    zoomFullExtent: true,
                    zoomGeolocation: true,
                    rotate: true
                },
                sidebar: true
            };

            // init widget
            var widgetUnderTest = new ZoneMap({
                config: zoneMapConfig
            }, 'widgetNode');
            widgetUnderTest.startup();

            widgetUnderTest.on("zonechanged", function(event){
                console.log("zone changed event: ");
                console.log(event);
            });

        });

    </script>
</body>

</html>